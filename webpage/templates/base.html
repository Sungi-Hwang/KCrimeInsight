<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Crime">
    
    {% block title_block %}
    <title>범죄의 현황 PROJECT</title>
    {% endblock %}

    {% include "page_modules/common_css.html" %}
    {% block css_block %}
    {% endblock %}


</head>

<body>

    <!-- Left Panel -->
    <aside id="left-panel" class="left-panel">
        <nav class="navbar navbar-expand-sm navbar-default">

            <div class="navbar-header">
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#main-menu" aria-controls="main-menu" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="./"><img src="/static/images/logo.png" alt="Logo"></a>
                <a class="navbar-brand hidden" href="./"><img src="/static/images/logo2.png" alt="Logo"></a>
            </div>

            <div id="main-menu" class="main-menu collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active">
                        <a href="{{ url_for('main.index') }}"> <i class="menu-icon fa fa-dashboard"></i>Main Page</a>
                    </li>
                    <h3 class="menu-title">범죄 종류 및 분석</h3><!-- /.menu-title -->
                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-table"></i>Tables</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li><i class="fa fa-table"></i><a href="{{ url_for('data.crime_data') }}">범죄 현황 Table</a></li>
                            <li><i class="fa fa-table"></i><a href="{{ url_for('data.crime_data2') }}">유흥 주점 table</a></li>
                            <li><i class="fa fa-table"></i><a href="tables-data.html">생활 환경 Table</a></li>
                            <li><i class="fa fa-table"></i><a href="tables-data.html">사회 경제 Table</a></li>
                        </ul>
                    </li>
                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-bar-chart"></i>Charts</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li><i class="menu-icon fa fa-line-chart"></i><a href="charts-chartjs.html">Chart JS</a></li>
                            <li><i class="menu-icon fa fa-area-chart"></i><a href="charts-flot.html">Flot Chart</a></li>
                            <li><i class="menu-icon fa fa-pie-chart"></i><a href="charts-peity.html">Peity Chart</a></li>
                            <li><i class="menu-icon fa fa-map-o"></i><a href="maps-gmap.html">지역 자세히 보기</a></li>
                        </ul>
                    </li>


                    <h3 class="menu-title">계정 관리</h3><!-- /.menu-title -->
                    {% if session.get('loginuser') %}

                    {% else %}
                    <li class="menu-item-has-children dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="menu-icon fa fa-glass"></i>계정관리</a>
                        <ul class="sub-menu children dropdown-menu">
                            <li><i class="menu-icon fa fa-sign-in"></i><a href="{{ url_for('auth.login') }}">로그인</a></li>
                            <li><i class="fa fa-user"></i><a href="{{ url_for('auth.register') }}">회원가입</a></li>
                            <li><i class="menu-icon fa fa-paper-plane"></i><a href="{{ url_for('auth.forget_password') }}">비밀번호 찾기</a></li>
                        </ul>
                    </li>
                    {% endif %}
                </ul>
            </div><!-- /.navbar-collapse -->
        </nav>
    </aside>
    <!-- Left Panel end -->

    <!-- Right Panel 1 -->
    <div id="right-panel" class="right-panel">

        <!-- Header-->
        <header id="header" class="header">

            <div class="header-menu">

                <div class="col-sm-7">
                    <a id="menuToggle" class="menutoggle pull-left"><i class="fa fa fa-tasks"></i></a>
                    <div class="header-left">
                        <button class="search-trigger"><i class="fa fa-search"></i></button>
                        <div class="form-inline">
                            <form class="search-form">
                                <input class="form-control mr-sm-2" type="text" placeholder="Search ..." aria-label="Search">
                                <button class="search-close" type="submit"><i class="fa fa-close"></i></button>
                            </form>
                        </div>
                    </div>
                </div>

                <div class="col-sm-5">
                    <div class="user-area dropdown float-right">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <img class="user-avatar rounded-circle" 
                                src="{% if session.get('loginuser') %} /static/images/admin.jpg {% else %}/static/images/default_admin.jpg{% endif %}" 
                                alt="User Avatar">
                        </a>

                        <div class="user-menu dropdown-menu">    
                            <a class="nav-link" href="#"><i class="fa fa-cog"></i> 설정</a>
                            
                            {% if session.get('loginuser') %}
                            <a class="nav-link" href="#"><i class="fa fa-user"></i> 나의 프로필</a>
                            <!-- <a class="nav-link" href="#"><i class="fa fa-user"></i> Notifications <span class="count"></span></a> -->
                            <a class="nav-link" href="{{ url_for('auth.logout') }}">
                                <i class="fa fa-power-off"></i> 로그아웃</a>
                            {% else %}
                            <a class="nav-link" href="{{ url_for('auth.login') }}">
                                <i class="menu-icon fa fa-sign-in"></i> 로그인</a>
                            <a class="nav-link" href="{{ url_for('auth.register') }}">
                                <i class="fa fa-user"></i> 회원가입</a>
                            <a class="nav-link" href="{{ url_for('auth.forget_password') }}">
                                <i class="menu-icon fa fa-paper-plane"></i> 비밀번호 찾기</a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>

        </header><!-- /header -->
        <!-- Header-->

        {% block content_block %}
        {% endblock %} 
    
    </div>

    {% include "page_modules/common_js.html" %}
    {% block js_block %}
    {% endblock %}
    
    <script>
        (function($) {
            "use strict";
            jQuery('#vmap').vectorMap({
                map: 'southkorea_provinces', // ← 한국 시군구 지도!
                backgroundColor: null,
                color: '#cceeff',
                borderColor: '#666666',     // ← 테두리 색상
                borderWidth: 1.4,           // ← 테두리 두께
                hoverOpacity: 0.7,  
                selectedColor: '#009688',   // ← 진한 청록색 (클릭 시 색상)
                enableZoom: true,
                showTooltip: true,
                normalizeFunction: 'polynomial',
                zoomOnScroll: true,
                zoomMax: 20
            });
        })(jQuery);



        // (function($) {
        //     "use strict";
        //     jQuery('#vmap').vectorMap({
        //                 // map: 'world_en',
        //         // backgroundColor: null,
        //         // color: '#ffffff',
        //         // hoverOpacity: 0.7,
        //         // selectedColor: '#1de9b6',
        //         // enableZoom: true,
        //         // showTooltip: true,
        //         // values: sample_data,
        //         // scaleColors: ['#1de9b6', '#03a9f5'],
        //         // normalizeFunction: 'polynomial'      // 세계지도
        //     });
        // })(jQuery);
    </script>

</body>

</html>
